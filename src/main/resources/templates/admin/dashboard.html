<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" th:replace="~{admin/fragments/layout :: layout(
        pageTitle=${'ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ - ì„¸ì¢…ì¡±ë³´'},
        currentPage=${'dashboard'},
        content=~{::content},
        extraHead=~{::extraHead},
        extraScripts=~{::extraScripts}
      )}">

<th:block th:fragment="extraHead">
    <style>
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(18.75rem, 1fr));
            gap: 1.875rem;
            margin-bottom: 2.5rem;
        }

        .dashboard-card {
            padding: 1.875rem;
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 1.25rem;
        }

        .card-icon {
            width: 3.125rem;
            height: 3.125rem;
            border-radius: 0.625rem;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 0.9375rem;
            font-size: 1.5rem;
        }

        .pending-jokbos .card-icon {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: #d63031;
        }

        .unanswered-inquiries .card-icon {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #00b894;
        }

        .card-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #333;
            margin: 0;
        }

        .card-number {
            font-size: 2.25rem;
            font-weight: 700;
            color: #333;
            margin: 0.625rem 0;
        }

        .card-description {
            color: #666;
            font-size: 0.875rem;
            margin: 0;
        }

        .action-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.9375rem;
            margin-top: 1.875rem;
            justify-content: center;
        }

        .recent-inquiries {
            padding: 1.875rem;
        }

        .recent-inquiries h3 {
            margin: 0 0 1.25rem 0;
            color: #333;
            font-size: 1.25rem;
        }

        .inquiry-item {
            border-bottom: 0.0625rem solid #eee;
            padding: 0.9375rem 0;
        }

        .inquiry-item:last-child {
            border-bottom: none;
        }

        .inquiry-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .inquiry-name {
            font-weight: 600;
            color: #333;
        }

        .inquiry-date {
            color: #999;
            font-size: 0.875rem;
        }

        .inquiry-message {
            color: #666;
            font-size: 0.875rem;
            line-height: 1.5;
        }

        .view-all-link {
            text-align: center;
            margin-top: 1.25rem;
        }

        .view-all-link a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }

        .view-all-link a:hover {
            text-decoration: underline;
        }

        @media (max-width: 48rem) {
            .action-buttons {
                flex-direction: column;
                align-items: stretch;
            }

            .admin-btn {
                flex: none;
                margin-bottom: 0.625rem;
            }
        }
    </style>
</th:block>

<th:block th:fragment="content">
    <h1 class="page-title">ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h1>
    <div class="dashboard-grid">
        <div class="admin-card admin-card--hover dashboard-card pending-jokbos">
            <div class="card-header">
                <div class="card-icon">ğŸ“š</div>
                <h3 class="card-title">ìŠ¹ì¸ ëŒ€ê¸° ì¡±ë³´</h3>
            </div>
            <div class="card-number" th:text="${pendingJokbos}">0</div>
            <p class="card-description">ìŠ¹ì¸ì„ ê¸°ë‹¤ë¦¬ëŠ” ì¡±ë³´ê°€ ìˆìŠµë‹ˆë‹¤</p>
        </div>

        <div class="admin-card admin-card--hover dashboard-card unanswered-inquiries">
            <div class="card-header">
                <div class="card-icon">ğŸ’¬</div>
                <h3 class="card-title">ë‹µë³€ ëŒ€ê¸° ë¬¸ì˜</h3>
            </div>
            <div class="card-number" th:text="${unansweredInquiries.size()}">0</div>
            <p class="card-description">ë‹µë³€ì´ í•„ìš”í•œ ë¬¸ì˜ê°€ ìˆìŠµë‹ˆë‹¤</p>
        </div>
    </div>

    <div class="action-buttons">

        <a href="/admin/jokbos/pending" class="admin-btn admin-btn--primary admin-btn--full admin-btn--lg">â³ ìŠ¹ì¸ ëŒ€ê¸°
            ì¡±ë³´</a>
        <a href="/admin/jokbos" class="admin-btn admin-btn--primary admin-btn--full admin-btn--lg">ğŸ—‚ï¸ ì „ì²´ ì¡±ë³´</a>
        <a href="/admin/approval-history" class="admin-btn admin-btn--primary admin-btn--full admin-btn--lg">ğŸ“Š ìŠ¹ì¸
            ì´ë ¥</a>
        <a href="/admin/inquiries" class="admin-btn admin-btn--primary admin-btn--full admin-btn--lg">ğŸ’¬ ë¬¸ì˜ ê´€ë¦¬</a>
        <button id="syncBtn" class="admin-btn admin-btn--success admin-btn--full admin-btn--lg">ğŸ”„ ë™ê¸°í™”</button>
    </div>

    <div class="admin-card recent-inquiries" th:if="${unansweredInquiries.size() > 0}">
        <h3>ìµœê·¼ ë‹µë³€ ëŒ€ê¸° ë¬¸ì˜</h3>
        <div class="inquiry-item" th:each="inquiry : ${unansweredInquiries}">
            <div class="inquiry-header">
                <span class="inquiry-name" th:text="${inquiry.name}">ì‚¬ìš©ìëª…</span>
                <span class="inquiry-date"
                    th:text="${#temporals.format(inquiry.createdAt, 'yyyy-MM-dd HH:mm')}">ë‚ ì§œ</span>
            </div>
            <div class="inquiry-message" th:text="${inquiry.message}">ë¬¸ì˜ ë‚´ìš©</div>
        </div>
        <div class="view-all-link">
            <a href="/admin/inquiries">ëª¨ë“  ë¬¸ì˜ ë³´ê¸° â†’</a>
        </div>
    </div>
</th:block>

<th:block th:fragment="extraScripts"></th:block>

</html>