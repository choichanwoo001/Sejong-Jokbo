<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" th:replace="~{admin/fragments/layout :: layout(
        pageTitle=${'족보 관리 - 세종족보'},
        currentPage=${'jokbos'},
        content=~{::content},
        extraHead=~{::extraHead},
        extraScripts=~{::extraScripts}
      )}">

<th:block th:fragment="extraHead">
    <link rel="stylesheet" th:href="@{/css/admin-search.css}">
    <link rel="stylesheet" th:href="@{/css/jokbo-management.css}">
</th:block>

<th:block th:fragment="content">
    <section class="admin-jokbo-management">
        <h1 class="page-title">족보 관리</h1>

        <div th:replace="admin/fragments/search-form :: search-section('searchForm', ~{::searchFields})">
            <th:block th:fragment="searchFields">
                <div class="search-group">
                    <label for="bookTitle">책 제목</label>
                    <input type="text" id="bookTitle" name="bookTitle" class="search-input" placeholder="책 제목을 입력하세요">
                </div>
                <div class="search-group">
                    <label for="registrant">등록자</label>
                    <input type="text" id="registrant" name="registrant" class="search-input" placeholder="등록자를 입력하세요">
                </div>
                <div class="search-group">
                    <label for="registrationDate">등록일</label>
                    <input type="date" id="registrationDate" name="registrationDate" class="search-input">
                </div>
                <button type="submit" class="search-btn">검색</button>
                <button type="button" class="reset-btn" data-search-reset>초기화</button>
            </th:block>
        </div>

        <div class="filter-section">
            <label for="statusFilter">상태별 필터:</label>
            <select id="statusFilter">
                <option value="" th:selected="${selectedStatus == null}">전체</option>
                <option value="대기" th:selected="${selectedStatus == '대기'}">대기 중</option>
                <option value="승인" th:selected="${selectedStatus == '승인'}">승인됨</option>
                <option value="반려" th:selected="${selectedStatus == '반려'}">반려됨</option>
            </select>
        </div>

        <div th:if="${#lists.isEmpty(jokbos)}" class="no-jokbo">
            <p>등록된 족보가 없습니다.</p>
        </div>

        <div th:if="${!#lists.isEmpty(jokbos)}" id="jokboTableContainer">
            <table class="jokbo-table" id="jokboTable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>책 제목</th>
                        <th>등록자</th>
                        <th>등록일</th>
                        <th>타입</th>
                        <script th:src="@{/js/jokbo-management.js}"></script>
</th:block>

</html>